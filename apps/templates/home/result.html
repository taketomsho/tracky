{% extends "layouts/base.html" %}
{% load boost %}


{% block content %}
<div class="text-center">
<h1>分析結果</h1>
</div>

<div class="form-group">
  <div class="text-center mt-3">
    <label>キーワード</label>
  </div>
  <div class="alert alert-primary text-center mb-5" role="alert">
    {{ data.keyword }}
  </div>
</div>

<div class="form-group">
  <div class="text-center mt-3">
    <label >解析対象のURL:</label>
  </div>
  <div class="alert alert-primary text-center mb-5" role="alert">
    {{ data.url }}
  </div>
</div>

<div class="form-group">
  <div class="text-center mt-3">
    <label >解析対象のURLの順位:</label>
  </div>
  <div class="alert alert-primary text-center mb-5" role="alert">
    {{ data.rank }}
  </div>
</div>

<p class="text-center">
  総合評価：{{data.score.total}}点
</p>

<!-- 全体評価のレーダーチャート -->
<canvas id="myRadarChart"></canvas>
{% comment %} <p class="text-center h6 mt-5">
  ※会員登録にはログインが必要です
</p>
<p class="text-center mb-5">
  <a class="btn btn-info" href="{% url 'seo:score_update' %}?total={{data.score.total}}&url={{data.url}}" role="button">あなたの点数をランキングに登録する</a>
</p>

<p>{{message.message}}</p> {% endcomment %}

<div class="text-center mt-5">
    <p class="h6">あなたの記事と上位記事との差分を埋めることがGoogle検索の順位上昇につながります。</p>
    <p class="h6">以下の各項目のレポートを参考に記事をリライトしてみましょう。</p>
</div>

<h2 class="leftcolor-blue">文字数</h2>

<div class="container">
  <table class="table table-sm ">
    <thead>
    <tr>
      <th scope="col">統計値</th>
        <th scope="col">タイトル</th>
        <th scope="col">メタディスクリプション</th>
        <th scope="col">本文</th>
    </tr>
    </thead>
    <tbody>
      <tr>
        <td>あなたの記事</td>
        <td>{{ data.title.self }}文字</td>
        <td>{{ data.meta.self }}文字</td>
        <td>{{ data.body.self }}文字</td>
      </tr>
    <tr>
      <td>上位記事の最大値</td>
        <td>{{ data.title.max }}文字</td>
        <td>{{ data.meta.max }}文字</td>
        <td>{{ data.body.max }}文字</td>
    </tr>
    <tr>
      <td>上位記事の最小値</td>
      <td>{{ data.title.min }}文字</td>
      <td>{{ data.meta.min }}文字</td>
      <td>{{ data.body.min }}文字</td>
    </tr>
    <tr>
      <td>上位記事の平均値</td>
      <td>{{ data.title.mean }}文字</td>
      <td>{{ data.meta.mean }}文字</td>
      <td>{{ data.body.mean }}文字</td>
    </tr>
    </tbody>
  </table>
</div>

<h3>タイトルの文字数</h3>

{% if data.title.deviation < 0 %}
  <p class="advice my-5 h6">タイトル：あなたの記事は上位記事の平均と比較して<b>{{data.title.deviation}}</b>文字です。文字数を増やしましょう！</p>
{% elif data.title.deviation > 0 %}
<p class="advice my-5 h6">タイトル：あなたの記事は上位記事の平均と比較して<b>+{{data.title.deviation}}</b>文字です。文字数を減らしましょう！</p>
{% else %}
  <p class="advice my-5 h6">タイトル：あなたの記事はちょうど良いです。</p>
{% endif %}
<p><a class="h6" href="https://bellcurve.jp/statistics/course/5220.html">※参考：レポート（箱ひげ図）の読み方はこちら</a></p>
<canvas id="chart_titles" height="100"></canvas>

<h3>メタディスクリプションの文字数</h3>

{% if data.meta.deviation < 0 %}
  <p class="advice my-5 h6">メタディスクリプション：あなたの記事は上位記事の平均と比較して<b>{{data.meta.deviation}}</b>文字です。文字数を増やしましょう！</p>
{% elif data.meta.deviation > 0 %}
<p class="advice my-5 h6">メタディスクリプション：あなたの記事は上位記事の平均と比較して<b>+{{data.meta.deviation}}</b>文字です。文字数を減らしましょう！</p>
{% else %}
  <p class="advice my-5 h6">メタディスクリプション：あなたの記事はちょうど良いです。</p>
{% endif %}
<canvas id="chart_metas" height="100"></canvas>

<h3>本文の文字数</h3>

{% if data.body.deviation < 0 %}
  <p class="advice my-5 h6">本文：あなたの記事は上位記事の平均と比較して<b>{{data.body.deviation}}</b>文字です。文字数を増やしましょう！</p>
{% elif data.body.deviation > 0 %}
<p class="advice my-5 h6">本文：あなたの記事は上位記事の平均と比較して<b>+{{data.body.deviation}}</b>文字です。文字数を減らしましょう！</p>
{% else %}
  <p class="advice my-5 h6">本文：あなたの記事はちょうど良いです。</p>
{% endif %}
<canvas id="chart_body" height="100"></canvas>

<h2>本文に含まれるキーワード数</h2>

<table class="table table-sm">
  <thead>
  <tr>
    <th scope="col">キーワード</th>
    {% for keyword in data.body_keyword.keyword_list%}
      <th scope="col">{{keyword}}</th>
    {% endfor %}
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>あなたの記事</td>
    {% for self in data.body_keyword.self%}
      <td>{{ self }}</td>
    {% endfor %}
  </tr>
  <tr>
    <td>上位記事の最大値</td>
    {% for max in data.body_keyword.max%}
      <td>{{ max }}</td>
    {% endfor %}
  </tr>
  <tr>
    <td>上位記事の最小値</td>
    {% for min in data.body_keyword.min%}
      <td>{{ min }}</td>
    {% endfor %}
  </tr>
  <tr>
    <td>上位記事の平均値</td>
    {% for mean in data.body_keyword.mean%}
      <td>{{ mean }}</td>
    {% endfor %}
  </tr>
  </tbody>
</table>

<!-- djangoの記法でzipで複数配列からの取り出しを行っている -->
{% for keyword, deviation in data.body_keyword.keyword_list|zip:data.body_keyword.deviation %}
<h3>本文に含まれる「{{keyword}}」の数</h3>
{% if deviation < 0 %}
  <p class="advice my-5 h6">{{keyword}}の数：あなたの記事は上位記事の平均と比較して<b>{{deviation}}</b>個です。本文に含まれるキーワード数を増やしましょう！</p>
{% elif deviation > 0 %}
<p class="advice my-5 h6">{{keyword}}の数：あなたの記事は上位記事の平均と比較して<b>+{{deviation}}</b>個です。本文に含まれるキーワード数を減らしましょう！</p>
{% else %}
  <p class="advice my-5 h6">{{keyword}}の数：あなたの記事はちょうど良いです。</p>
{% endif %}
{% endfor %}


<h2>見出し数</h2>
<table class="table table-sm">
  <thead>
  <tr>
    <th scope="col">統計値</th>
      <th scope="col">H2</th>
      <th scope="col">H3</th>
      <th scope="col">H4</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>あなたの記事</td>
      <td>{{ data.h2.self }}</td>
      <td>{{ data.h3.self }}</td>
      <td>{{ data.h4.self }}</td>
  </tr>
  <tr>
    <td>上位記事の最大値</td>
      <td>{{ data.h2.max }}</td>
      <td>{{ data.h3.max }}</td>
      <td>{{ data.h4.max }}</td>
  </tr>
  <tr>
    <td>上位記事の最小値</td>
      <td>{{ data.h2.min }}</td>
      <td>{{ data.h3.min }}</td>
      <td>{{ data.h4.min }}</td>
  </tr>
  <tr>
    <td>上位記事の平均値</td>
      <td>{{ data.h2.mean }}</td>
      <td>{{ data.h3.mean }}</td>
      <td>{{ data.h4.mean }}</td>
  </tr>
  </tbody>
</table>
<h3>H2見出しの数</h3>

{% if data.h2.deviation < 0 %}
  <p class="advice my-5 h6">H2見出し：あなたの記事は上位記事の平均と比較して<b>{{data.h2.deviation}}</b>個です。見出しを増やしましょう！</p>
{% elif data.h2.deviation > 0 %}
<p class="advice my-5 h6">H2見出し：あなたの記事は上位記事の平均と比較して<b>+{{data.h2.deviation}}</b>個です。見出しを減らしましょう！</p>
{% else %}
  <p class="my-5 h6">H2見出し：あなたの記事はちょうど良いです。</p>
{% endif %}

<canvas id="chart_h2" height=100></canvas>

<h3>H3見出しの数</h3>
{% if data.h3.deviation < 0 %}
  <p class="advice my-5 h6">H3見出し：あなたの記事は上位記事の平均と比較して<b>{{data.h3.deviation}}</b>個です。見出しを増やしましょう！</p>
{% elif data.h3.deviation > 0 %}
<p class="advice my-5 h6">H3見出し：あなたの記事は上位記事の平均と比較して<b>+{{data.h3.deviation}}</b>個です。見出しを減らしましょう！</p>
{% else %}
  <p class="advice my-5 h6">H3見出し：あなたの記事はちょうど良いです。</p>
{% endif %}
<canvas id="chart_h3" height=100></canvas>

<h3>H4見出しの数</h3>

{% if data.h4.deviation < 0 %}
  <p class="advice my-5 h6">H4見出し：あなたの記事は上位記事の平均と比較して<b>{{data.h4.deviation}}</b>個です。見出しを増やしましょう！</p>
{% elif data.h4.deviation > 0 %}
<p class="advice my-5 h6">H4見出し：あなたの記事は上位記事の平均と比較して<b>+{{data.h4.deviation}}</b>個です。見出しを減らしましょう！</p>
{% else %}
  <p class="advice my-5 h6">H4見出し：あなたの記事はちょうど良いです。</p>
{% endif %}
<canvas id="chart_h4" height=100></canvas>


<h2>画像</h2>
<p class="h6">※画像はリンク付きではない画像のみを集計しております。重複している画像は1つにカウントされます</a></p>
<table class="table table-sm">
  <thead>
  <tr>
    <th scope="col">統計値</th>
      <th scope="col">画像</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>あなたの記事</td>
      <td>{{ data.img.self }}</td>
  </tr>
  <tr>
    <td>上位記事の最大値</td>
    <td>{{ data.img.max }}</td>
  </tr>
  <tr>
    <td>上位記事の最小値</td>
    <td>{{ data.img.min }}</td>
  </tr>
  <tr>
    <td>上位記事の平均値</td>
    <td>{{ data.img.mean }}</td>
  </tr>
  </tbody>
</table>
<h3>画像数</h3>


{% if data.img.deviation < 0 %}
  <p class="advice my-5 h6">画像数：あなたの記事は上位記事の平均と比較して<b>{{data.img.deviation}}</b>個です。画像を増やしましょう！</p>
{% elif data.img.deviation > 0 %}
<p class="advice my-5 h6">画像数：あなたの記事は上位記事の平均と比較して<b>+{{data.img.deviation}}</b>個です。さらに画像を増やしましょう！</p>
{% else %}
  <p class="advice my-5 h6">画像数：あなたの記事はちょうど良いです。</p>
{% endif %}
<canvas id="chart_img" height="100"></canvas>

<h2>リンク数</h2>

<table class="table table-sm">
  <thead>
  <tr>
    <th scope="col">統計値</th>
      <th scope="col">内部リンク</th>
      <th scope="col">外部への発リンク</th>
  </tr>
  </thead>
  <tbody>
    <tr>
      <td>あなたの記事</td>
        <td>{{ data.inner_link.self }}</td>
        <td>{{ data.outer_link.self }}</td>
    </tr>
  <tr>
    <td>上位記事の最大値</td>
    <td>{{ data.inner_link.max }}</td>
    <td>{{ data.outer_link.max }}</td>
  </tr>
  <tr>
    <td>上位記事の最小値</td>
    <td>{{ data.inner_link.min }}</td>
    <td>{{ data.outer_link.min }}</td>
  </tr>
  <tr>
    <td>上位記事の平均値</td>
    <td>{{ data.inner_link.mean }}</td>
    <td>{{ data.outer_link.mean }}</td>
  </tr>
  </tbody>
</table>
<h3>内部リンクの数</h3>

{% if data.inner_link.deviation < 0 %}
  <p class="advice my-5 h6">内部リンク：あなたの記事は上位記事の平均と比較して<b>{{data.inner_link.deviation}}</b>個です。リンクを増やしましょう！</p>
{% elif data.inner_link.deviation > 0 %}
<p class="advice my-5 h6">内部リンク：あなたの記事は上位記事の平均と比較して<b>+{{data.inner_link.deviation}}</b>個です。リンクを減らしましょう！</p>
{% else %}
  <p class="advice my-5 h6">内部リンク：あなたの記事はちょうど良いです。</p>
{% endif %}

<canvas id="chart_inner_link" height=100></canvas>

<h3>外部への発リンクの数</h3>

{% if data.outer_link.deviation < 0 %}
  <p class="advice my-5 h6">外部への発リンク：あなたの記事は上位記事の平均と比較して<b>{{data.outer_link.deviation}}</b>個です。リンクを増やしましょう！</p>
{% elif data.outer_link.deviation > 0 %}
<p class="advice my-5 h6">外部への発リンク：あなたの記事は上位記事の平均と比較して<b>+{{data.outer_link.deviation}}</b>個です。リンクを減らしましょう！</p>
{% else %}
  <p class="advice my-5 h6">外部への発リンク：あなたの記事はちょうど良いです。</p>
{% endif %}

<canvas id="chart_outer_link" height=100></canvas>

<h2>記事の新しさ</h2>

<table class="table table-sm">
  <thead>
  <tr>
    <th scope="col">統計値</th>
      <th scope="col">何日前に更新されているか</th>
  </tr>
  </thead>
  <tbody>
  <tr>
    <td>あなたの記事</td>
      <td>{{ data.freshness.self }}</td>
  </tr>
  <tr>
    <td>上位記事の最大値</td>
    <td>{{ data.freshness.max }}</td>
  </tr>
  <tr>
    <td>上位記事の最小値</td>
    <td>{{ data.freshness.min }}</td>
  </tr>
  <tr>
    <td>上位記事の平均値</td>
    <td>{{ data.freshness.mean }}</td>
  </tr>
  </tbody>
</table>

<h3>何日前に更新されているか</h3>
<p>この指標はArticle構造化データを取得し判定しています。<a href="https://developers.google.com/search/docs/advanced/structured-data/article?hl=ja">※Article構造化データとは</a></p>

{% if data.freshness.max == "解析不能" %}
  <p class="advice my-5 h6">更新の新しさ：このキーワードに関連する記事において、更新日は重要項目とされていないようです。この指標はあまり考慮に入れなくてもよいでしょう。</p>
{% elif data.freshness.selfdata == "なし" %}
  <p class="advice my-5 h6">更新の新しさ：あなたの記事には、Article構造化データが設定されていないようです。Article構造化データを設定することで、Googleにページの意図を明示的に伝えることができます。ぜひあなたの記事にも設定しましょう。</p>
{% elif data.freshness.score == 100 %}
  <p class="advice my-5 h6">更新の新しさ：あなたの記事の更新日は上位記事の平均と比較して<b>{{data.freshness.deviation}}</b>日新しいです。問題ありませんが、さらに記事を更新しましょう！</p>
{% elif data.freshness.score < 100 %}
  <p class="advice my-5 h6">更新の新しさ：あなたの記事の更新日は上位記事の平均と比較して<b>{{data.freshness.deviation}}</b>日古いです。記事を更新しましょう！</p>
{% else %}
  <p class="advice my-5 h6">記事の新しさを判定できませんでした。少し時間をおいて再度分析を実行してみてください。</p>
{% endif %}


<canvas id="chart_freshness" height=100></canvas>

<div class="text-center my-5">
  <a class="btn btn-info" href="{% url 'home:index' %}" role="button">ホームに戻る</a>
</div>

  <script>

      //レーダーチャート
      var ctx = document.getElementById("myRadarChart");
      var myRadarChart = new Chart(ctx, {
        //グラフの種類
        type: 'radar',
        //データの設定
        data: {
            //データ項目のラベル
            labels: {{data.score.label | safe}},
            //データセット
            datasets: [
                {
                    label: "評価",
                    //背景色
                    backgroundColor: "rgb(45,165,247, 0.5)",
                    //枠線の色
                    borderColor: "rgb(45,165,247)",
                    //結合点の背景色
                    pointBackgroundColor: "rgb(45,165,247)",
                    //結合点の枠線の色
                    pointBorderColor: "#fff",
                    //結合点の背景色（ホバ時）
                    pointHoverBackgroundColor: "#fff",
                    //結合点の枠線の色（ホバー時）
                    pointHoverBorderColor: "rgb(45,165,247)",
                    //結合点より外でマウスホバーを認識する範囲（ピクセル単位）
                    hitRadius: 5,
                    //グラフのデータ
                    data: {{data.score.data | safe}}
                }
            ]
        },
       options: {
          // レスポンシブ指定
          responsive: true,
          scale: {
            ticks: {
              // 最小値の値を0指定
              beginAtZero:true,
              min: 0,
              // 最大値を指定
              max: 100,
            }
          }
        }
      });

      //箱ひげ図
    var titleData = {

      labels: [''],
      datasets: [{
        label: '文字数',
        backgroundColor: 'rgba(0,0,255,0.5)',
        borderColor: 'blue',
        borderWidth: 1,
        outlierRadius: 3,
        itemRadius: 3,
        outlierColor: '#3ef0d8',
        borderWidth: 1,
        data: [{{data.title.data | safe}}]
        }]

    };

      window.myBar = new Chart(document.getElementById("chart_titles").getContext("2d"), {
        type: 'horizontalBoxplot',
        data: titleData,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'タイトル'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });

    var metaData = {
      labels: [''],
      datasets: [{
        label: '文字数',
        backgroundColor: 'rgba(0,0,255,0.5)',
        borderColor: 'blue',
        borderWidth: 1,
        outlierRadius: 3,
        itemRadius: 3,
        outlierColor: '#3ef0d8',
        borderWidth: 1,
        data: [{{data.meta.data | safe}}]
        }]

    };
  
    var ctx_meta = document.getElementById("chart_metas").getContext("2d");
      window.myBar = new Chart(ctx_meta, {
        type: 'horizontalBoxplot',
        data: metaData,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'メタディスクリプション'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });

    var bodyData = {
      labels: [''],
      datasets: [{
        label: '文字数',
        backgroundColor: 'rgba(0,0,255,0.5)',
        borderColor: 'blue',
        borderWidth: 1,
        outlierRadius: 3,
        itemRadius: 3,
        outlierColor: '#3ef0d8',
        borderWidth: 1,
        data: [{{data.body.data | safe}}]
        }]

    };

    var ctx_body = document.getElementById("chart_body").getContext("2d");
      window.myBar = new Chart(ctx_body, {
        type: 'horizontalBoxplot',
        data: bodyData,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: '本文'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });

      
      var h2Data = {
        labels: [''],
        datasets: [{
          label: '個数',
          backgroundColor:  'rgba(0,0,255,0.5)',
          borderColor: 'blue',
          borderWidth: 1,
          outlierRadius: 3,
          itemRadius: 3,
          outlierColor: '#999999',
          borderWidth: 1,
          data: [{{data.h2.data|safe}}]
          }]
  
      };

      var ctx_h2 = document.getElementById("chart_h2").getContext("2d");
      window.myBar = new Chart(ctx_h2, {
        type: 'horizontalBoxplot',
        data: h2Data,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'H2見出し'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });

      var h3Data = {
        labels: [''],
        datasets: [{
          label: '個数',
          backgroundColor:  'rgba(0,0,255,0.5)',
          borderColor: 'blue',
          borderWidth: 1,
          outlierRadius: 3,
          itemRadius: 3,
          outlierColor: '#999999',
          borderWidth: 1,
          data: [{{data.h3.data|safe}}]
          }]
  
      };

      var ctx_h3 = document.getElementById("chart_h3").getContext("2d");
      window.myBar = new Chart(ctx_h3, {
        type: 'horizontalBoxplot',
        data: h3Data,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'H3見出し'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });

      var h4Data = {
        labels: [''],
        datasets: [{
          label: '個数',
          backgroundColor:  'rgba(0,0,255,0.5)',
          borderColor: 'blue',
          borderWidth: 1,
          outlierRadius: 3,
          itemRadius: 3,
          outlierColor: '#999999',
          borderWidth: 1,
          data: [{{data.h4.data|safe}}]
          }]
  
      };

      var ctx_h4 = document.getElementById("chart_h4").getContext("2d");
      window.myBar = new Chart(ctx_h4, {
        type: 'horizontalBoxplot',
        data: h4Data,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'H4見出し'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });


      var imgData = {
        labels: [''],
        datasets: [{
          label: '個数',
          backgroundColor:  'rgba(0,0,255,0.5)',
          borderColor: 'blue',
          borderWidth: 1,
          outlierRadius: 3,
          itemRadius: 3,
          outlierColor: '#999999',
          borderWidth: 1,
          data: [{{data.img.data|safe}}]
          }]
  
      };

      var ctx_img = document.getElementById("chart_img").getContext("2d");
      window.myBar = new Chart(ctx_img, {
        type: 'horizontalBoxplot',
        data: imgData,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: '画像'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });


      var inner_linkData = {
        labels: [''],
        datasets: [{
          label: '個数',
          backgroundColor:  'rgba(0,0,255,0.5)',
          borderColor: 'blue',
          borderWidth: 1,
          outlierRadius: 3,
          itemRadius: 3,
          outlierColor: '#999999',
          borderWidth: 1,
          data: [{{data.inner_link.data|safe}}]
          }]
  
      };

      var ctx_inner_link = document.getElementById("chart_inner_link").getContext("2d");
      window.myBar = new Chart(ctx_inner_link, {
        type: 'horizontalBoxplot',
        data: inner_linkData,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: '内部リンク'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });

      var outer_linkData = {
        labels: [''],
        datasets: [{
          label: '個数',
          backgroundColor:  'rgba(0,0,255,0.5)',
          borderColor: 'blue',
          borderWidth: 1,
          outlierRadius: 3,
          itemRadius: 3,
          outlierColor: '#999999',
          borderWidth: 1,
          data: [{{data.outer_link.data|safe}}]
          }]
  
      };

      var ctx_outer_link = document.getElementById("chart_outer_link").getContext("2d");
      window.myBar = new Chart(ctx_outer_link, {
        type: 'horizontalBoxplot',
        data: outer_linkData,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: '外部リンク'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });

      var freshnessData = {
        labels: [''],
        datasets: [{
          label: 'N日前',
          backgroundColor:  'rgba(0,0,255,0.5)',
          borderColor: 'blue',
          borderWidth: 1,
          outlierRadius: 3,
          itemRadius: 3,
          outlierColor: '#999999',
          borderWidth: 1,
          data: [{{data.freshness.data|safe}}]
          }]
  
      };

      var ctx_freshness = document.getElementById("chart_freshness").getContext("2d");
      window.myBar = new Chart(ctx_freshness, {
        type: 'horizontalBoxplot',
        data: freshnessData,
        options: {
          responsive: true,
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: '記事の新しさ'
          },
          tooltipDecimals: 4,
          scales: {
          }
        }
      });


  </script>


{% endblock %}
